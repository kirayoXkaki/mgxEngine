# 前端功能测试指南

## 🧪 测试步骤

### 1. 任务创建和列表测试

1. **访问首页**
   - 打开浏览器访问: http://localhost:5173
   - 应该看到 "MGX Engine" 标题
   - 应该看到任务创建表单

2. **创建任务**
   - 在文本框中输入: "Create a REST API with user authentication"
   - 点击 "Run Task" 按钮
   - 应该自动跳转到任务详情页

3. **验证任务列表**
   - 返回首页 (点击 Back 按钮)
   - 应该看到新创建的任务出现在列表中
   - 任务卡片应该显示正确的状态徽章

### 2. 任务详情页测试

1. **访问任务详情**
   - 点击任务卡片上的 "View Details" 按钮
   - 或直接访问: http://localhost:5173/tasks/{task_id}

2. **验证顶部栏**
   - ✅ 应该看到任务标题
   - ✅ 应该看到状态徽章（带图标）
   - ✅ 应该看到 "Back" 按钮
   - ✅ 如果任务完成，应该看到 "Restart" 按钮

3. **验证进度条**
   - ✅ 应该看到进度条（如果有进度）
   - ✅ 颜色应该匹配状态（蓝色=RUNNING, 绿色=SUCCEEDED, 红色=FAILED）
   - ✅ 运行时应该有 shimmer 动画

4. **验证 WebSocket 连接状态**
   - ✅ 应该看到连接状态指示器
   - ✅ "Connecting..." 应该显示黄色 spinner
   - ✅ "Connected ✅" 应该显示绿色状态
   - ✅ 如果重连，应该看到橙色横幅

### 3. 实时事件流测试

1. **验证事件显示**
   - ✅ 应该看到按角色分组的事件
   - ✅ ProductManager 🧠 (蓝色背景)
   - ✅ Architect 🧩 (紫色背景)
   - ✅ Engineer ⚙️ (绿色背景)

2. **验证动画效果**
   - ✅ 新消息应该有淡入动画
   - ✅ 最新消息应该高亮显示（2秒）
   - ✅ 应该自动滚动到底部

3. **验证事件内容**
   - ✅ 应该显示 Agent 角色和图标
   - ✅ 应该显示时间戳
   - ✅ 应该显示事件内容

### 4. UI 响应式测试

1. **桌面端**
   - ✅ 布局应该是两列（任务信息 + 事件流）
   - ✅ 顶部栏应该 sticky 定位
   - ✅ 所有元素应该正确对齐

2. **移动端**
   - ✅ 调整浏览器窗口大小到移动端尺寸
   - ✅ 布局应该变为单列
   - ✅ ScrollArea 应该正常工作
   - ✅ 所有按钮和文本应该可读

### 5. 交互测试

1. **Restart 按钮**
   - ✅ 完成任务后，应该显示 "Restart" 按钮
   - ✅ 点击后应该清空事件并重新启动任务

2. **Back 按钮**
   - ✅ 点击应该返回任务列表页

3. **任务卡片**
   - ✅ 点击 "View Details" 应该跳转到详情页
   - ✅ 点击 "Start" 应该启动任务（如果状态是 PENDING）

## ✅ 预期结果

所有功能应该正常工作：
- ✅ 任务创建和列表
- ✅ 任务详情显示
- ✅ 实时事件流
- ✅ WebSocket 连接
- ✅ UI 动画和交互
- ✅ 响应式布局

## 🐛 常见问题

1. **WebSocket 连接失败**
   - 检查后端是否运行在 http://localhost:8000
   - 检查浏览器控制台是否有错误

2. **事件不显示**
   - 检查任务是否已启动
   - 检查 WebSocket 连接状态

3. **样式问题**
   - 清除浏览器缓存
   - 强制刷新 (Cmd+Shift+R)

