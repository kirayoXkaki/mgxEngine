# 前端功能测试清单

## ✅ 测试前准备

- [ ] 后端 API 运行在 http://localhost:8000
- [ ] 前端应用运行在 http://localhost:5173
- [ ] 浏览器控制台已打开（F12）

---

## 1. 首页功能测试

### 1.1 页面加载
- [ ] 页面正常加载，显示 "MGX Engine" 标题
- [ ] 任务创建表单可见
- [ ] 任务列表区域可见（可能为空）

### 1.2 任务创建表单
- [ ] 输入框可以输入文本
- [ ] "Run Task" 按钮可见且可点击
- [ ] 输入为空时按钮应该禁用
- [ ] 占位符文本正确显示

### 1.3 创建任务
- [ ] 输入任务提示（例如："Create a todo app"）
- [ ] 点击 "Run Task"
- [ ] 应该显示加载状态
- [ ] 应该自动跳转到任务详情页

### 1.4 任务列表
- [ ] 如果已有任务，应该显示任务卡片
- [ ] 任务卡片显示：
  - [ ] 任务标题
  - [ ] 任务描述（截断）
  - [ ] 状态徽章（颜色正确）
  - [ ] 创建时间
  - [ ] "View Details" 按钮
- [ ] 点击 "View Details" 跳转到详情页

---

## 2. 任务详情页测试

### 2.1 顶部栏
- [ ] "Back" 按钮可见且可点击
- [ ] 任务标题正确显示（可截断）
- [ ] 任务描述正确显示（可截断）
- [ ] 状态徽章显示：
  - [ ] 正确的状态文本
  - [ ] 状态图标（⏰/🔄/✅/❌）
  - [ ] 正确的颜色
- [ ] 如果任务完成，显示 "Restart" 按钮
- [ ] 顶部栏 sticky 定位（滚动时保持可见）

### 2.2 进度条
- [ ] 进度条可见（如果有进度）
- [ ] 进度百分比正确显示
- [ ] 颜色匹配状态：
  - [ ] 蓝色 = RUNNING
  - [ ] 绿色 = SUCCEEDED
  - [ ] 红色 = FAILED
- [ ] 运行时显示 shimmer 动画
- [ ] 当前 Agent 徽章显示（如果有）

### 2.3 WebSocket 连接状态
- [ ] 连接中显示 "Connecting..."（黄色）
- [ ] 连接成功显示 "Connected ✅"（绿色）
- [ ] 重连时显示橙色横幅 "Reconnecting to WebSocket..."
- [ ] 状态指示器在 EventStream 标题旁

### 2.4 任务信息卡片
- [ ] 创建时间正确显示
- [ ] 更新时间正确显示
- [ ] 当前 Agent 显示（如果有）
- [ ] 结果摘要显示（如果有）
- [ ] "Start Task" 按钮（如果状态是 PENDING）

---

## 3. 实时事件流测试

### 3.1 事件分组
- [ ] 事件按 Agent 角色分组
- [ ] 每个组有分隔符标题
- [ ] ProductManager 🧠 组（蓝色背景）
- [ ] Architect 🧩 组（紫色背景）
- [ ] Engineer ⚙️ 组（绿色背景）

### 3.2 事件显示
- [ ] 每个事件显示：
  - [ ] Agent 角色和图标
  - [ ] 时间戳（HH:mm:ss）
  - [ ] 事件内容
- [ ] 事件背景颜色匹配 Agent 角色

### 3.3 动画效果
- [ ] 新消息有淡入动画
- [ ] 最新消息高亮显示（2秒）：
  - [ ] 有 ring 边框
  - [ ] 有 shadow
  - [ ] 轻微放大效果
- [ ] 自动滚动到底部

### 3.4 ScrollArea
- [ ] 事件流可以滚动
- [ ] 滚动条样式正确
- [ ] 移动端滚动流畅

---

## 4. 交互测试

### 4.1 导航
- [ ] 从首页点击任务卡片 → 跳转到详情页
- [ ] 从详情页点击 "Back" → 返回首页
- [ ] URL 正确更新

### 4.2 任务操作
- [ ] 点击 "Start Task" → 任务开始执行
- [ ] 点击 "Restart" → 事件清空，任务重新开始
- [ ] 按钮状态正确（loading/disabled）

### 4.3 WebSocket 重连
- [ ] 断开网络连接 → 显示重连横幅
- [ ] 恢复网络 → 自动重连成功
- [ ] 重连后事件继续接收

---

## 5. 响应式设计测试

### 5.1 桌面端（> 1024px）
- [ ] 布局为两列（任务信息 + 事件流）
- [ ] 所有元素正确对齐
- [ ] 字体大小合适

### 5.2 平板端（768px - 1024px）
- [ ] 布局调整为单列或两列
- [ ] 元素间距合适
- [ ] 按钮大小合适

### 5.3 移动端（< 768px）
- [ ] 布局为单列
- [ ] 文本可读
- [ ] 按钮可点击
- [ ] ScrollArea 正常工作
- [ ] 顶部栏响应式（可能换行）

---

## 6. 错误处理测试

### 6.1 网络错误
- [ ] API 请求失败 → 显示错误消息
- [ ] WebSocket 连接失败 → 显示错误状态
- [ ] 任务不存在 → 显示错误页面

### 6.2 加载状态
- [ ] 页面加载时显示 spinner
- [ ] 任务创建时显示 loading 状态
- [ ] 按钮禁用状态正确

---

## 7. 性能测试

### 7.1 大量事件
- [ ] 创建任务并等待产生大量事件
- [ ] 事件流滚动流畅
- [ ] 没有明显的性能问题
- [ ] 内存使用正常

### 7.2 长时间运行
- [ ] 保持页面打开 5 分钟
- [ ] WebSocket 连接保持稳定
- [ ] 没有内存泄漏

---

## 🐛 已知问题检查

- [ ] 检查浏览器控制台是否有错误
- [ ] 检查网络请求是否成功
- [ ] 检查 WebSocket 连接状态
- [ ] 检查样式是否正确加载

---

## 📝 测试结果记录

**测试日期**: _______________
**测试人员**: _______________
**浏览器**: _______________

**通过的功能**: 
- [ ] 任务创建
- [ ] 任务列表
- [ ] 任务详情
- [ ] 实时事件流
- [ ] WebSocket 连接
- [ ] UI 动画
- [ ] 响应式布局

**发现的问题**:
1. 
2. 
3. 

---

## ✅ 测试完成标准

- [ ] 所有核心功能正常工作
- [ ] 没有控制台错误
- [ ] UI 响应流畅
- [ ] 移动端体验良好
- [ ] WebSocket 连接稳定

